{
  "customInstructions": "# Paper Trader Project Rules\n\n## CRITICAL: Required Reading Before Any Work\n\nBefore starting ANY task involving code changes, bug fixes, feature additions, or architectural modifications:\n\n1. **ALWAYS read DEVELOPMENT_GUIDE.md first** - This file is located at the project root and contains critical patterns, architectural decisions, and complete checklists.\n\n2. After reading, explicitly state which sections of the guide are relevant to the current task.\n\n3. If adding bot parameters or modifying bot configuration, you MUST follow the \"Feature Addition Patterns\" checklist and update ALL THREE deployment paths:\n   - frontend/src/components/GameDetailModal.tsx\n   - frontend/src/pages/UserProfile.tsx\n   - frontend/src/components/LiveBotPanel.tsx\n\n## Key Patterns to Remember\n\n- **Three Deployment Paths**: Bot configs can be set from game cards, user profile, or active bot panels. All three must be updated when adding parameters.\n- **Snake Case Required**: All bot parameter names must use snake_case to match backend expectations.\n- **Auto-Allocated Bankroll**: Bankroll is calculated as 10% of user wallet. Never add manual bankroll inputs.\n- **JSONB Flexibility**: Use JSONB for flexible config storage in database.\n- **WebSocket Updates**: Always broadcast state changes via WebSocket.\n- **Transaction Safety**: Wallet changes should eventually be wrapped in database transactions.\n\n## Known Issues to Avoid\n\n- Never use 'trade_exit' wallet transaction type (causes double-counting)\n- Never skip updating all three frontend components\n- Always use percentage inputs (0-100) in frontend, convert to decimal (0.0-1.0) for backend\n- DCA features should default to disabled (enable_dca: false) for safety\n\n## When Making Changes\n\n1. Read relevant sections of DEVELOPMENT_GUIDE.md\n2. Follow the checklists provided\n3. Update backend AND frontend (all paths)\n4. Test using the verification procedures in the guide\n5. Update DEVELOPMENT_GUIDE.md if you discover new patterns or pitfalls\n\n## Debugging\n\nIf encountering issues, consult the \"Debugging Tips\" and \"Common Pitfalls\" sections in DEVELOPMENT_GUIDE.md before proceeding."
}
